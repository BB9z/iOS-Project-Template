# 演示：游客模式

本 demo 展示游客模式的实现：

* 如果未登入，跳转到需要登入浏览的页面时，会先跳转到登入页，登入成功后自动恢复之前的跳转，也可手动取消该行为；
* 如何声明部分页面需要登入才能浏览，设置一个属性即可；
* 如何处理登入过程涉及多个页面的情况，登入后移除这些页面；
* 对于不需要跳页但需要登入的操作，如何用一行代码处理；
* 当登入用户切换时，如何刷新已有界面。

常见错误的实现方式之一是通过 view controller 基类处理。

另一种是通过闭包把需要登入的操作传入某一 manager 里，页内操作这是上选，跳页操作不合适。通过这种方式跳页，发起的页面必须通过代码强引用其他页面，同时意味在每个地方重复定义是否需要登入，试想一个页面有大量跳入的入口，一但该页面是否需要登入变了，所有跳转代码全部需要修改。另一方面一个页面是否需要登入是谁说了算，是其他页面么，不应该是页面本身么？最佳做法是让页面自己去定义，如何跳是导航的本职工作。

Supports 和 _Shared 目录中的文件不是关注的重点，可以忽略，它们只是为支持框架的运行，与模版提供的基本一致。
